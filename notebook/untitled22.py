# -*- coding: utf-8 -*-
"""Untitled22.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1kCeMKShIPfuYqf__1LrldKF2ijqgF0gU
"""

import streamlit as st
import numpy as np
import joblib

# Chargement des mod√®les
reg_model = joblib.load('mon_model||REG-LOG.pkl')
knn_model = joblib.load('mon_model||KNN.pkl')

# Titre de l'application
st.title("üîç Pr√©diction de la solvabilit√© d'un client")
st.write("Remplissez les informations ci-dessous pour pr√©dire si le client est solvable.")

# Choix du mod√®le
model_choice = st.selectbox("Choisissez un mod√®le :", ("R√©gression Logistique", "KNN"))

# Entr√©e des caract√©ristiques
age = st.number_input("√Çge", min_value=18, max_value=100, value=30)
marital = st.selectbox("√âtat civil", ("C√©libataire", "Mari√©(e)", "Divorc√©(e)"))
expenses = st.number_input("D√©penses mensuelles", min_value=0.0, value=1000.0)
income = st.number_input("Revenu mensuel", min_value=0.0, value=3000.0)
amount = st.number_input("Montant du cr√©dit demand√©", min_value=0.0, value=10000.0)
price = st.number_input("Prix du bien", min_value=0.0, value=12000.0)

# Pr√©traitement simple
marital_mapping = {"C√©libataire": 0, "Mari√©(e)": 1, "Divorc√©(e)": 2}
marital_encoded = marital_mapping[marital]

# Construction du vecteur d'entr√©e
X = np.array([[age, marital_encoded, expenses, income, amount, price]])

# Pr√©diction
if st.button("Pr√©dire la solvabilit√©"):
    if model_choice == "R√©gression Logistique":
        prediction = reg_model.predict(X)[0]
    else:
        prediction = knn_model.predict(X)[0]

    # Affichage du r√©sultat
    if prediction == 1:
        st.success("‚úÖ Le client est **solvable**.")
    else:
        st.error("‚ùå Le client est **non solvable**.")